<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Damas Online</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Firebase App (o core do Firebase) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <!-- Firebase Auth -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <!-- Firebase Firestore -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <!-- Navbar Mobile -->
    <nav class="navbar">
        <div class="nav-brand">
            <i class="fas fa-chess-board"></i>
            <span>Damas Online</span>
        </div>
        <div class="nav-actions">
            <button id="btn-notifications" class="nav-btn">
                <i class="fas fa-bell"></i>
                <span class="notification-badge">3</span>
            </button>
            <button id="btn-profile" class="nav-btn">
                <i class="fas fa-user"></i>
            </button>

        </div>
    </nav>

    <!-- Conte√∫do Principal -->
    <main class="main-content">
        <!-- Tela de Login/Registro -->
        <!-- Tela de Login/Registro -->
<section id="auth-screen" class="screen active">
  <div class="auth-container">
    <div class="auth-header">
      <h1>Damas Online</h1>
      <p>Jogue damas brasileiras online</p>
    </div>
    
    <!-- Formul√°rio de Login (padr√£o) -->
    <div id="login-form" class="auth-form">
      <div class="input-group">
        <i class="fas fa-envelope"></i>
        <input type="email" id="email" placeholder="E-mail" autocomplete="email">
      </div>
      
      <div class="input-group">
        <i class="fas fa-lock"></i>
        <input type="password" id="password" placeholder="Senha" autocomplete="current-password">
      </div>
      
      <button id="btn-login" class="btn btn-primary">Entrar</button>
      
      <div class="auth-options">
<a href="#" id="show-register">Criar uma conta</a>        <a href="#" id="forgot-password">Esqueci minha senha</a>
      </div>
      
      <div class="auth-divider">
        <span>ou</span>
      </div>
      
      <button id="btn-google" class="btn btn-google">
        <i class="fab fa-google"></i>
        Entrar com Google
      </button>
      
      <!-- Bot√£o para teste r√°pido -->
      <div class="auth-divider">
        <span>acesso r√°pido para teste</span>
      </div>
      
      <button id="btn-test-account" class="btn btn-secondary">
        <i class="fas fa-bolt"></i>
        Entrar com Conta de Teste
      </button>
    </div>
    
    <!-- Formul√°rio de Registro (novo) -->
    <div id="register-form" class="auth-form" style="display: none;">
      <div class="input-group">
        <i class="fas fa-user"></i>
        <input type="text" id="register-name" placeholder="Seu nome completo">
      </div>
      
      <div class="input-group">
        <i class="fas fa-envelope"></i>
        <input type="email" id="register-email" placeholder="E-mail">
      </div>
      
      <div class="input-group">
        <i class="fas fa-lock"></i>
        <input type="password" id="register-password" placeholder="Senha (m√≠nimo 6 caracteres)">
      </div>
      
      <div class="input-group">
        <i class="fas fa-lock"></i>
        <input type="password" id="register-confirm-password" placeholder="Confirmar senha">
      </div>
      
      <div class="form-row">
        <div class="input-group" style="flex: 1;">
          <i class="fas fa-birthday-cake"></i>
          <input type="number" id="register-age" placeholder="Idade" min="10" max="120">
        </div>
        
        <div class="input-group" style="flex: 2;">
          <i class="fas fa-flag"></i>
          <select id="register-country">
            <option value="">Selecione seu pa√≠s</option>
            <option value="BR">Brasil</option>
            <option value="AR">Argentina</option>
            <option value="PT">Portugal</option>
            <option value="US">Estados Unidos</option>
            <option value="ES">Espanha</option>
            <option value="FR">Fran√ßa</option>
            <option value="DE">Alemanha</option>
            <option value="IT">It√°lia</option>
            <option value="UK">Reino Unido</option>
            <option value="other">Outro</option>
          </select>
        </div>
      </div>
      
      <div class="input-group">
        <i class="fas fa-city"></i>
        <input type="text" id="register-city" placeholder="Cidade">
      </div>
      
      <div class="input-group checkbox-group">
        <input type="checkbox" id="register-terms">
        <label for="register-terms">Aceito os <a href="#">termos de uso</a> e <a href="#">pol√≠tica de privacidade</a></label>
      </div>
      
<button id="btn-register-submit" class="btn btn-primary">Finalizar Cadastro</button>

      
      <div class="auth-options">
        <a href="#" id="show-login">J√° tenho uma conta</a>
      </div>
    </div>
  </div>
</section>

        <!-- Tela Principal com Abas -->
        <section id="main-screen" class="screen">
            <!-- Conte√∫do das Abas -->
            <div class="tab-content">
                <!-- Aba: Tabuleiros -->
                <div id="tab-tabuleiros" class="tab-pane active">
                                                        <!-- Bot√£o para abrir lista de usu√°rios -->
<button id="btn-online-users" class="btn btn-info">
    <i class="fas fa-users"></i> Jogadores Online
    <span id="online-users-count" class="badge">0</span>
</button>

                    <div class="header-with-action">
                        <h2>Mesas Dispon√≠veis</h2>

    
                        <button id="btn-create-table" class="btn btn-primary btn-small">
                            <i class="fas fa-plus"></i> Nova Mesa
                        </button>
                    </div>
                    
                    <div class="tables-list" id="tables-container">
                        
                        <!-- Mesas ser√£o carregadas dinamicamente -->
                    </div>
                </div>
                
                <!-- Aba: Ranking -->
                <div id="tab-ranking" class="tab-pane">
                    <h2>Ranking de Jogadores</h2>
                    <div class="ranking-filters">
                        <button class="filter-btn active">Global</button>
                        <button class="filter-btn">Amigos</button>
                        <button class="filter-btn">Semanal</button>
                    </div>
                    
                    <div class="ranking-list" id="ranking-container">
                        <!-- Ranking ser√° carregado dinamicamente -->
                    </div>
                </div>
                
                <!-- Aba: Amigos -->
                <div id="tab-amigos" class="tab-pane">
                    <div class="header-with-action">
                        <h2>Amigos</h2>
                        <button id="btn-add-friend" class="btn btn-primary btn-small">
                            <i class="fas fa-user-plus"></i> Adicionar
                        </button>
                    </div>
                    
                    <div class="friends-search">
    <div class="search-container">
        <input type="text" id="friends-search" placeholder="Buscar jogadores..." autocomplete="off">
        <i class="fas fa-search"></i>
        <div class="search-results" id="search-results" style="display: none;"></div>
    </div>
</div>
                    
                    <div class="friends-list" id="friends-container">
                        <!-- Lista de amigos ser√° carregada dinamicamente -->
                    </div>
                </div>
                
                <!-- Aba: Configura√ß√µes -->
                <div id="tab-configuracoes" class="tab-pane">
                    <h2>Configura√ß√µes</h2>
                    
                     <div class="settings-section">
    <h3>Perfil</h3>
    <div class="setting-item">
      <div class="setting-info">
        <i class="fas fa-user"></i>
        <span>Nome de exibi√ß√£o</span>
      </div>
      <input type="text" id="display-name" class="setting-input">
    </div>
    
    <div class="setting-item">
      <div class="setting-info">
        <i class="fas fa-birthday-cake"></i>
        <span>Idade</span>
      </div>
      <input type="number" id="profile-age" class="setting-input" min="10" max="120">
    </div>
    
    <div class="setting-item">
      <div class="setting-info">
        <i class="fas fa-flag"></i>
        <span>Pa√≠s</span>
      </div>
      <select id="profile-country" class="setting-input">
        <option value="">Selecione seu pa√≠s</option>
        <option value="BR">Brasil</option>
        <option value="AR">Argentina</option>
        <option value="PT">Portugal</option>
        <option value="US">Estados Unidos</option>
        <option value="ES">Espanha</option>
        <option value="FR">Fran√ßa</option>
        <option value="DE">Alemanha</option>
        <option value="IT">It√°lia</option>
        <option value="UK">Reino Unido</option>
        <option value="other">Outro</option>
      </select>
    </div>
    
    <div class="setting-item">
      <div class="setting-info">
        <i class="fas fa-city"></i>
        <span>Cidade</span>
      </div>
      <input type="text" id="profile-city" class="setting-input">
    </div>
    
    <div class="setting-item">
      <div class="setting-info">
        <i class="fas fa-image"></i>
        <span>Foto de perfil</span>
      </div>
      <button class="btn btn-secondary btn-small">Alterar</button>
    </div>
  </div>
                    
                    <div class="settings-section">
                        <h3>Jogo</h3>
                        <div class="setting-item">
                            <div class="setting-info">
                                <i class="fas fa-volume-up"></i>
                                <span>Som</span>
                            </div>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <i class="fas fa-music"></i>
                                <span>M√∫sica</span>
                            </div>
                            <label class="switch">
                                <input type="checkbox" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h3>Conta</h3>
                        <button id="btn-logout" class="btn btn-secondary btn-full">Sair</button>
                    </div>
                </div>
            </div>
            
            <!-- Barra de Navega√ß√£o Inferior -->
            <nav class="bottom-nav">
                <button class="nav-item active" data-tab="tab-tabuleiros">
                    <i class="fas fa-chess-board"></i>
                    <span>Tabuleiros</span>
                </button>
                <button class="nav-item" data-tab="tab-ranking">
                    <i class="fas fa-trophy"></i>
                    <span>Ranking</span>
                </button>
                <button class="nav-item" data-tab="tab-amigos">
                    <i class="fas fa-users"></i>
                    <span>Amigos</span>
                </button>
                <button class="nav-item" data-tab="tab-configuracoes">
                    <i class="fas fa-cog"></i>
                    <span>Configura√ß√µes</span>
                </button>
            </nav>
        </section>

        <!-- Tela de Jogo -->
       <section id="game-screen" class="screen">
    <!-- Header -->
   <div class="game-header">
    <button id="btn-leave-game" class="btn btn-icon btn-back">
        <i class="fas fa-arrow-left"></i>
    </button>
    
    <div class="game-info-mobile">
        <div class="mobile-score">
            <!-- Ser√° preenchido dinamicamente pelo JavaScript -->
            <span class="player-badge red">Oponente</span>
            <span class="vs">VS</span>
            <span class="player-badge black">Voc√™</span>
        </div>
<div class="game-timer" id="game-timer" title="Tempo por jogada">
    <i class="fas fa-clock"></i>
    <span id="timer-text">05:00</span>
</div>    </div>
    
    <!-- Esta div ser√° inserida dinamicamente pelo JavaScript -->
    <!-- <div class="players-names"></div> -->
    
    <div class="header-actions">
        <button id="btn-spectators" class="btn btn-icon" title="Espectadores">
            <i class="fas fa-users"></i>
            <span class="badge" id="spectators-count">0</span>
        </button>
    </div>
</div>

    <!-- Conte√∫do Principal -->
    <div class="game-content">
        <!-- √Årea do Tabuleiro -->
        <div class="board-section">
            <div class="turn-indicator-mobile" id="turn-indicator">
                <div class="turn-dot" id="turn-dot"></div>
                <span id="turn-text">Sua vez</span>
            </div>

            <div class="board-wrapper">
                <div class="checkers-board" id="checkers-board">
                    <!-- Tabuleiro gerado dinamicamente -->
                </div>
            </div>

            <div class="mobile-controls">
                <button id="btn-surrender" class="btn btn-danger btn-sm">
                    <i class="fas fa-flag"></i>
                    Desistir
                </button>
                <button id="btn-offer-draw" class="btn btn-warning btn-sm">
                    <i class="fas fa-handshake"></i>
                    Empate
                </button>
                <button id="btn-hint" class="btn btn-info btn-sm">
                    <i class="fas fa-lightbulb"></i>
                    Dica
                </button>
            </div>
        </div>

        <!-- Painel de Jogadores -->
        <div class="players-section">
            <div class="player-card opponent">
                <div class="player-main">
                    <div class="player-avatar">
                        <img src="https://ui-avatars.com/api/?name=O&background=ff6b6b" alt="Oponente">
                    </div>
                    <div class="player-details">
                        <h4 class="player-name">Oponente</h4>
                        <div class="player-stats">
                            <span class="rating">1250</span>
                            <span class="pieces">12 pe√ßas</span>
                        </div>
                    </div>
                </div>
                <div class="supporters">
                    <i class="fas fa-heart"></i>
                    <span id="opponent-supporters">0</span>
                </div>
            </div>

            <div class="player-card me">
                <div class="player-main">
                    <div class="player-avatar">
                        <img src="https://ui-avatars.com/api/?name=V&background=4ecdc4" alt="Voc√™">
                        <div class="online-dot"></div>
                    </div>
                    <div class="player-details">
                        <h4 class="player-name">Voc√™</h4>
                        <div class="player-stats">
                            <span class="rating">1350</span>
                            <span class="pieces">12 pe√ßas</span>
                        </div>
                    </div>
                </div>
                <div class="supporters">
                    <i class="fas fa-heart"></i>
                    <span id="my-supporters">0</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Chat Fixo como era antes -->
    <div class="game-chat">
        <div class="chat-messages" id="chat-messages">
            <!-- Mensagens de chat ser√£o carregadas dinamicamente -->
        </div>
        
        <div class="chat-input">
            <input type="text" placeholder="Digite uma mensagem..." id="chat-input">
            <button class="btn btn-icon btn-send">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <!-- Modal de Espectadores -->
    <div class="modal spectators-modal" id="spectators-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Espectadores</h3>
                <button class="modal-close" id="close-spectators">&times;</button>
            </div>
            <div class="modal-body">
                <div class="spectators-grid">
                    <div class="spectators-group">
                        <h4>Torcendo pelas Pretas</h4>
                        <div class="spectators-list" id="black-supporters-list"></div>
                    </div>
                    <div class="spectators-group">
                        <h4>Torcendo pelas Vermelhas</h4>
                        <div class="spectators-list" id="red-supporters-list"></div>
                    </div>
                    <div class="spectators-group">
                        <h4>Assistindo</h4>
                        <div class="spectators-list" id="spectators-list"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
    </main>

    <!-- Modal para Criar Mesa -->
    <div id="modal-create-table" class="modal">
        <div class="modal-content">
            <div class="modal-header">


                <h3>Criar Nova Mesa</h3>
                <button class="modal-close">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="input-group">
                    <label>Nome da Mesa</label>
                    <input type="text" id="table-name" placeholder="Digite um nome para a mesa">
                </div>
                
                <div class="input-group">
                    <label>Tempo por Jogada</label>
                    <select id="table-time">
                        <option value="60">1 minuto</option>
                        <option value="120">2 minutos</option>
                        <option value="300">5 minutos</option>
                        <option value="0">Sem limite</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label>Aposta de Moedas (opcional)</label>
                    <input type="number" id="table-bet" min="0" placeholder="0">
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-secondary modal-cancel">Cancelar</button>
                <button id="btn-confirm-create" class="btn btn-primary">Criar Mesa</button>
            </div>
        </div>
    </div>

    <!-- Modal de Usu√°rios Online -->
<div class="modal online-users-modal" id="online-users-modal">
    <div class="modal-content large">
        <div class="modal-header">
            <h3>üë• Jogadores Online</h3>
            <button class="modal-close" id="close-online-users">&times;</button>
        </div>
        <div class="modal-body">
            <div class="online-users-filters">
                <input type="text" id="users-search" placeholder="üîç Buscar jogador..." class="search-input">
                <select id="users-sort" class="select-input">
                    <option value="rating-desc">Maior Rating</option>
                    <option value="rating-asc">Menor Rating</option>
                    <option value="coins-desc">Mais Moedas</option>
                    <option value="coins-asc">Menos Moedas</option>
                    <option value="name-asc">Nome (A-Z)</option>
                    <option value="name-desc">Nome (Z-A)</option>
                </select>
            </div>
            
            <div class="online-users-stats">
                <div class="stat-item">
                    <i class="fas fa-users"></i>
                    <span>Total: <strong id="total-online-users">0</strong></span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-coins"></i>
                    <span>Moedas em jogo: <strong id="total-coins">0</strong></span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-chess-board"></i>
                    <span>Mesas ativas: <strong id="active-tables">0</strong></span>
                </div>
            </div>
            
            <div class="online-users-list" id="online-users-list">
                <div class="empty-state">
                    <i class="fas fa-user-clock"></i>
                    <p>Carregando jogadores online...</p>
                </div>
            </div>
        </div>
    </div>
</div>


    <!-- Modal de Confirma√ß√£o -->
    <div id="modal-confirm" class="modal">
        <div class="modal-content small">
            <div class="modal-header">
                <h3 id="confirm-title">Confirmar a√ß√£o</h3>
                <button class="modal-close">&times;</button>
            </div>
            
            <div class="modal-body">
                <p id="confirm-message">Tem certeza que deseja realizar esta a√ß√£o?</p>
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-secondary modal-cancel">Cancelar</button>
                <button id="btn-confirm-action" class="btn btn-primary">Confirmar</button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading" class="loading-overlay">
        <div class="loading-spinner"></div>
        <p>Carregando...</p>
    </div>



    <div id="voice-chat-widget" style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
    <button id="voice-toggle" style="background: #e74c3c; color: white; border: none; padding: 15px; border-radius: 50%; cursor: pointer;">
        <i class="fas fa-microphone"></i>
    </button>
    <div id="voice-status" style="display: none; background: #2ecc71; color: white; padding: 10px; border-radius: 10px; margin-top: 10px;">
        Conectado - Falando...
    </div>
</div>



    <script src="script.js"></script>

    <!-- Firebase App (o core do Firebase) -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app-compat.js"></script>
<!-- Firebase Auth -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth-compat.js"></script>
<!-- Firebase Firestore -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore-compat.js"></script>


</body>
</html>